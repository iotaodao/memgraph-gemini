# üß† Memgraph + Gemini GraphRAG Pipeline

**GraphRAG (Retrieval-Augmented Generation)** - —Å–æ–∑–¥–∞–µ—Ç –≥—Ä–∞—Ñ –∑–Ω–∞–Ω–∏–π –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (PDF, TXT, MD).

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫** (Vector Search + Graph Traversal) –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ –æ—Ç–≤–µ—Ç–æ–≤.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
* **–ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PDF (—á–µ—Ä–µ–∑ Docling —Å OCR) –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤.
* **–£–º–Ω–∞—è –Ω–∞—Ä–µ–∑–∫–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `chonkie` –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–±–∏–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞.
* **Graph Extraction:** –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π –∏ —Å–≤—è–∑–µ–π —á–µ—Ä–µ–∑ Google Gemini 2.5 Flash.
* **–í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ `text-embedding-004`.
* **–õ–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞:** –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Memgraph (Docker).

## üõ† –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
* Docker & Docker Compose
* Python 3.10+
* Google Gemini API Key

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –°–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ PDF)
–î–ª—è —Ä–∞–±–æ—Ç—ã –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Docling —Ç—Ä–µ–±—É—é—Ç—Å—è –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –¥—Ä–∞–π–≤–µ—Ä—ã:
```bash
sudo apt-get update
sudo apt-get install -y libgl1 libglib2.0-0 tesseract-ocr
```

### 2. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ Python
```bash
git clone <–≤–∞—à–∞-—Å—Å—ã–ª–∫–∞-–Ω–∞-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>
cd memgraph-gemini

python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```ini
GEMINI_API_KEY=–≤–∞—à_–∫–ª—é—á_–æ—Ç_google_ai_studio
MEMGRAPH_URI=bolt://localhost:7687
MEMGRAPH_USER=
MEMGRAPH_PASSWORD=
```

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫

### 1. –ó–∞–ø—É—Å–∫ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
docker-compose up -d
```

### 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤ (–ü–µ—Ä–≤—ã–π —Ä–∞–∑ –∏–ª–∏ –¥–ª—è —Å–±—Ä–æ—Å–∞)
–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –æ—á–∏—Å—Ç–∏—Ç –±–∞–∑—É –∏ —Å–æ–∑–¥–∞—Å—Ç –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã:
```bash
python src/reset_and_init.py
```

### 3. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
–†–∞–∑–º–µ—â–∞–µ–º —Ñ–∞–π–ª—ã (`.pdf`, `.md`, `.txt`) –≤ –ø–∞–ø–∫—É `data/` –∏ –∑–∞–ø—É—Å–∫–∞–µ–º:
```bash
python src/main.py
```

### 4. –ü–æ–∏—Å–∫ (–ß–∞—Ç)
–ó–∞–¥–∞–π –≤–æ–ø—Ä–æ—Å –∫ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π:
```bash
python src/query.py
```
*(–í–æ–ø—Ä–æ—Å –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤–Ω—É—Ç—Ä–∏ —Ñ–∞–π–ª–∞ `src/query.py`)*

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
* `src/main.py` ‚Äî –ü–∞–π–ø–ª–∞–π–Ω –∑–∞–≥—Ä—É–∑–∫–∏ (ETL): –ß—Ç–µ–Ω–∏–µ -> –ß–∞–Ω–∫–∏–Ω–≥ -> –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è -> –ó–∞–ø–∏—Å—å –≤ –ì—Ä–∞—Ñ.
* `src/query.py` ‚Äî –ü–æ–∏—Å–∫ (RAG): –í–æ–ø—Ä–æ—Å -> –í–µ–∫—Ç–æ—Ä -> –ü–æ–∏—Å–∫ –≤ –ì—Ä–∞—Ñ–µ -> –û—Ç–≤–µ—Ç LLM.
* `src/reset_and_init.py` ‚Äî –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤ –∏ –æ—á–∏—Å—Ç–∫–∏ –ë–î.
* `src/diagnose.py` ‚Äî –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–∞–∑—ã.
